services:
  web-server:
    container_name: web-server
    build:
      context: .
      dockerfile: dockerfiles/nginx.Dockerfile
    ports:
      - 8080:80
    volumes:
      - ./frontend/static:/static
      - ./frontend/server/nginx.conf:/etc/nginx/nginx.conf

  websocket-server:
    container_name: websocket-server
    build:
      context: .
      dockerfile: dockerfiles/pybuster.Dockerfile
    command: uv run uvicorn pybuster.server:app --host 0.0.0.0 --port 8000
    ports:
      - 8000:8000
